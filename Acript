local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local player = game.Players.LocalPlayer
local camera = workspace.CurrentCamera
 
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "Delta_V5_Ultimate"
screenGui.ResetOnSpawn = false

-- 1. AUTH SYSTEM
local CORRECT_KEY = "bigboy2026"
local keyFrame = Instance.new("Frame", screenGui)
keyFrame.Size = UDim2.new(0, 220, 0, 150)
keyFrame.Position = UDim2.new(0.5, -110, 0.5, -75)
keyFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Instance.new("UICorner", keyFrame)
 
local keyInput = Instance.new("TextBox", keyFrame)
keyInput.Size = UDim2.new(0, 180, 0, 35)
keyInput.Position = UDim2.new(0.5, -90, 0, 45)
keyInput.PlaceholderText = "Enter Key..."
keyInput.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
keyInput.TextColor3 = Color3.new(1, 1, 1)

local submitBtn = Instance.new("TextButton", keyFrame)
submitBtn.Size = UDim2.new(0, 180, 0, 35)
submitBtn.Position = UDim2.new(0.5, -90, 0, 95)
submitBtn.Text = "ACTIVATE"
submitBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
submitBtn.TextColor3 = Color3.new(1, 1, 1)

-- 2. MAIN HUB
local function LoadHub()
    local mainFrame = Instance.new("Frame", screenGui)
    mainFrame.Size = UDim2.new(0, 280, 0, 350)
    mainFrame.Position = UDim2.new(0.5, -140, 0.5, -175)
    mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Instance.new("UICorner", mainFrame)

    -- Toggle Button
    local toggleBtn = Instance.new("TextButton", screenGui)
    toggleBtn.Size = UDim2.new(0, 45, 0, 45)
    toggleBtn.Position = UDim2.new(0, 10, 0.5, -22)
    toggleBtn.Text = "D"
    toggleBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
    toggleBtn.TextColor3 = Color3.new(1, 1, 1)
    Instance.new("UICorner", toggleBtn)
    toggleBtn.MouseButton1Click:Connect(function() mainFrame.Visible = not mainFrame.Visible end)

    -- Title Bar & Dragging
    local titleBar = Instance.new("TextButton", mainFrame)
    titleBar.Size = UDim2.new(1, 0, 0, 35)
    titleBar.Text = "DELTA V5 ULTIMATE"
    titleBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    titleBar.TextColor3 = Color3.new(1, 1, 1)
    
    local closeBtn = Instance.new("TextButton", titleBar)
    closeBtn.Size = UDim2.new(0, 30, 0, 30)
    closeBtn.Position = UDim2.new(1, -32, 0, 2)
    closeBtn.Text = "X"
    closeBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
    closeBtn.MouseButton1Click:Connect(function() screenGui:Destroy() end)

    local dragging, dragStart, startPos
    titleBar.InputBegan:Connect(function(i) if i.UserInputType == Enum.UserInputType.Touch or i.UserInputType == Enum.UserInputType.MouseButton1 then dragging = true dragStart = i.Position startPos = mainFrame.Position end end)
    UIS.InputChanged:Connect(function(i) if dragging and (i.UserInputType == Enum.UserInputType.Touch or i.UserInputType == Enum.UserInputType.MouseMovement) then local delta = i.Position - dragStart mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y) end end)
    UIS.InputEnded:Connect(function() dragging = false end)

    -- Tabs Container
    local tabs = {Combat = Instance.new("ScrollingFrame", mainFrame), Move = Instance.new("ScrollingFrame", mainFrame), Teleport = Instance.new("ScrollingFrame", mainFrame)}
    for name, frame in pairs(tabs) do
        frame.Size = UDim2.new(1, -10, 1, -80)
        frame.Position = UDim2.new(0, 5, 0, 75)
        frame.BackgroundTransparency = 1
        frame.Visible = (name == "Combat")
        Instance.new("UIListLayout", frame).Padding = UDim.new(0, 5)
    end

    local function makeTabBtn(name, xPos, target)
        local b = Instance.new("TextButton", mainFrame)
        b.Size = UDim2.new(0.33, 0, 0, 30)
        b.Position = UDim2.new(xPos, 0, 0, 35)
        b.Text = name
        b.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        b.TextColor3 = Color3.new(1, 1, 1)
        b.MouseButton1Click:Connect(function() for _, f in pairs(tabs) do f.Visible = false end target.Visible = true end)
    end
    makeTabBtn("COMBAT", 0, tabs.Combat)
    makeTabBtn("MOVE", 0.33, tabs.Move)
    makeTabBtn("TP", 0.66, tabs.Teleport)

    local function addBtn(txt, parent, func)
        local b = Instance.new("TextButton", parent)
        b.Size = UDim2.new(1, -10, 0, 35)
        b.Text = txt
        b.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        b.TextColor3 = Color3.new(1, 1, 1)
        Instance.new("UICorner", b)
        b.MouseButton1Click:Connect(func)
    end

    -- FEATURES: COMBAT
    local aim, esp = false, false
    addBtn("Aimbot", tabs.Combat, function() aim = not aim end)
    addBtn("ESP", tabs.Combat, function() esp = not esp end)
    RunService.RenderStepped:Connect(function()
        for _, v in pairs(game.Players:GetPlayers()) do
            if v ~= player and v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
                local box = v.Character:FindFirstChild("ESP_Box")
                if esp then
                    if not box then
                        box = Instance.new("BoxHandleAdornment", v.Character)
                        box.Name = "ESP_Box" box.Adornee = v.Character box.AlwaysOnTop = true
                        box.Size = v.Character:GetExtentsSize() box.Transparency = 0.5 box.Color3 = Color3.new(1,0,0)
                    end
                elseif box then box:Destroy() end
                if aim then camera.CFrame = CFrame.new(camera.CFrame.Position, v.Character.Head.Position) end
            end
        end
    end)

    -- FEATURES: MOVE
    local fly, noclip = false, false
    addBtn("Speed 100", tabs.Move, function() player.Character.Humanoid.WalkSpeed = 100 end)
    addBtn("Noclip", tabs.Move, function() noclip = not noclip end)
    addBtn("Flight", tabs.Move, function()
        fly = not fly
        if fly then
            local bv = Instance.new("BodyVelocity", player.Character.HumanoidRootPart)
            bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            task.spawn(function()
                while fly do RunService.RenderStepped:Wait() bv.Velocity = camera.CFrame.LookVector * (player.Character.Humanoid.MoveDirection.Magnitude > 0 and 100 or 0) end
                bv:Destroy()
            end)
        end
    end)
    RunService.Stepped:Connect(function()
        if noclip and player.Character then
            for _, v in pairs(player.Character:GetDescendants()) do if v:IsA("BasePart") then v.CanCollide = false end end
        end
    end)

    -- FEATURES: TELEPORT
    addBtn("TP to Random Player", tabs.Teleport, function()
        local players = game.Players:GetPlayers()
        local randomPlayer = players[math.random(1, #players)]
        if randomPlayer ~= player and randomPlayer.Character then
            player.Character:MoveTo(randomPlayer.Character.HumanoidRootPart.Position)
        end
    end)
end

submitBtn.MouseButton1Click:Connect(function()
    if keyInput.Text == CORRECT_KEY then keyFrame:Destroy() LoadHub() end
end)

